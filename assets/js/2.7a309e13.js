(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{153:function(t,a,s){"use strict";s.r(a);var e=s(0),n=Object(e.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[t._m(0),s("p"),t._m(1),s("p"),t._m(2),t._m(3),s("p",[t._v("The SDK allows the creation of an empty ASP.NET Core project.\nI thought I'd try it to build a very basic Todo web app in order to have a better understanding of how ASP.NET Core works.")]),t._m(4),t._m(5),t._m(6),s("p",[t._v("In a terminal:")]),t._m(7),t._m(8),s("p",[t._v("In a terminal:")]),t._m(9),t._m(10),s("p",[t._v("In a terminal:")]),t._m(11),t._m(12),t._m(13),s("p",[t._v("Razor Pages cannot be used directly from an empty project.")]),t._m(14),t._m(15),t._m(16),t._m(17),t._m(18),t._m(19),t._m(20),t._m(21),t._m(22),t._m(23),t._m(24),t._m(25),t._m(26),s("p",[t._v("Download "),s("a",{attrs:{href:"https://raw.githubusercontent.com/jgthms/bulma/master/css/bulma.css",target:"_blank",rel:"noopener noreferrer"}},[t._v("Bulma CSS framework"),s("OutboundLink")],1),t._v(" and place it in "),s("code",[t._v("~\\wwwroot\\css")]),t._v(".")]),t._m(27),t._m(28),t._m(29),t._m(30),t._m(31),t._m(32),t._m(33),t._m(34),t._m(35),t._m(36),s("p",[t._v("If you want to scaffold models you'll need an ID property.")]),s("p",[t._v("Exemple of a scaffoldable model:")]),t._m(37),t._m(38),t._m(39),t._m(40),t._m(41),t._m(42),t._m(43),t._m(44),t._m(45),t._m(46),t._m(47),s("p",[t._v("In a terminal:")]),t._m(48),s("p",[t._v("First command will add the very first migration.\nSecond command will apply the migration to the database configured.")]),s("p",[t._v("If you have several database contextes, you'll need to precise for which one you want to apply migrations.")]),t._m(49),t._m(50),t._m(51),s("p",[t._v("Exemple of layout:")]),t._m(52),t._m(53),t._m(54),t._m(55),s("p",[t._v("This is important because usually you want the ASP tags to be available on all your Razor Pages and you don't want to write the full namespace each time.")]),s("p",[t._v("Exemple:")]),t._m(56),t._m(57),t._m(58),t._m(59),t._m(60),t._m(61),t._m(62),t._m(63),t._m(64),t._m(65),s("p",[t._v("Description of the options passed:")]),t._m(66),t._m(67),s("p",[t._v("The default scaffold templates were made for Bootstrap.\nIf you want to scaffold using your own custom template:")]),t._m(68),t._m(69),t._m(70),t._m(71),t._m(72),t._m(73),s("p",[t._v("Three steps (eventually four):")]),t._m(74),s("p",[t._v("First, update your model. For exemple, add a new property.")]),s("p",[t._v("Then in a terminal add a new migration:")]),t._m(75),s("p",[t._v("Now update the database to the latest migration:")]),t._m(76),s("p",[t._v("You can re-scaffold your model to reflect the changes to the model on your views.")]),t._m(77),t._m(78),t._m(79),s("p",[t._v("At the time of writing this article, there is a bug if you try to scaffold a model that has a boolean property. See this post on SO which also have a workaround: "),s("a",{attrs:{href:"https://stackoverflow.com/questions/46349821/asp-net-core-and-scaffold?utm_medium=organic&utm_source=google_rich_qa&utm_campaign=google_rich_qa",target:"_blank",rel:"noopener noreferrer"}},[t._v("Asp.Net Core and Scaffold"),s("OutboundLink")],1),t._v(".")]),t._m(80),s("ul",[s("li",[s("a",{attrs:{href:"https://docs.microsoft.com/en-us/aspnet/core/?view=aspnetcore-2.1",target:"_blank",rel:"noopener noreferrer"}},[t._v("MS Docs: Introduction to ASP.NET Core"),s("OutboundLink")],1)]),s("li",[s("a",{attrs:{href:"https://docs.microsoft.com/en-us/ef/core/providers/sqlite/limitations",target:"_blank",rel:"noopener noreferrer"}},[t._v("MS Docs: SQLite EF Core Database Provider Limitations"),s("OutboundLink")],1)]),s("li",[s("a",{attrs:{href:"https://stackoverflow.com/questions/35797628/ef7-generates-wrong-migrations-with-sqlite",target:"_blank",rel:"noopener noreferrer"}},[t._v("SO: EF7 generates wrong migrations with SQLite"),s("OutboundLink")],1)]),s("li",[s("a",{attrs:{href:"https://stackoverflow.com/questions/51022196/visual-studio-2017-asp-net-core-2-scaffolding-templates",target:"_blank",rel:"noopener noreferrer"}},[t._v("SO: Visual Studio 2017 ASP NET Core 2 Scaffolding Templates"),s("OutboundLink")],1)]),s("li",[s("a",{attrs:{href:"https://stackoverflow.com/questions/43173811/how-do-i-exclude-files-folders-from-a-net-core-standard-project",target:"_blank",rel:"noopener noreferrer"}},[t._v("SO: How do I exclude files/folders from a .NET Core/Standard project?"),s("OutboundLink")],1)])])])},[function(){var t=this.$createElement,a=this._self._c||t;return a("h1",{attrs:{id:"coding-from-an-asp-net-core-empty-project"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#coding-from-an-asp-net-core-empty-project","aria-hidden":"true"}},[this._v("#")]),this._v(" Coding from an ASP.NET Core Empty Project")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#introduction"}},[t._v("Introduction")])]),s("li",[s("a",{attrs:{href:"#getting-help"}},[t._v("Getting help")])]),s("li",[s("a",{attrs:{href:"#create-an-empty-project"}},[t._v("Create an empty project")])]),s("li",[s("a",{attrs:{href:"#build-the-project"}},[t._v("Build the project")])]),s("li",[s("a",{attrs:{href:"#run-the-project"}},[t._v("Run the project")])]),s("li",[s("a",{attrs:{href:"#razor-pages"}},[t._v("Razor Pages")])]),s("li",[s("a",{attrs:{href:"#static-files"}},[t._v("Static files")]),s("ul",[s("li",[s("a",{attrs:{href:"#setup"}},[t._v("Setup")])]),s("li",[s("a",{attrs:{href:"#test-it-out"}},[t._v("Test it out")])])])]),s("li",[s("a",{attrs:{href:"#configuration-files"}},[t._v("Configuration files")])]),s("li",[s("a",{attrs:{href:"#models"}},[t._v("Models")])]),s("li",[s("a",{attrs:{href:"#database-context"}},[t._v("Database Context")]),s("ul",[s("li",[s("a",{attrs:{href:"#create-a-database-context-class"}},[t._v("Create a Database Context class")])]),s("li",[s("a",{attrs:{href:"#configure-the-database-context"}},[t._v("Configure the Database Context")])])])]),s("li",[s("a",{attrs:{href:"#entity-framework"}},[t._v("Entity Framework")])]),s("li",[s("a",{attrs:{href:"#layout-directives"}},[t._v("Layout, directives")]),s("ul",[s("li",[s("a",{attrs:{href:"#layout"}},[t._v("Layout")])]),s("li",[s("a",{attrs:{href:"#directives"}},[t._v("Directives")])]),s("li",[s("a",{attrs:{href:"#running-code-before-each-view"}},[t._v("Running code before each view")])])])]),s("li",[s("a",{attrs:{href:"#scaffolding"}},[t._v("Scaffolding")]),s("ul",[s("li",[s("a",{attrs:{href:"#default-scaffolding"}},[t._v("Default scaffolding")])]),s("li",[s("a",{attrs:{href:"#custom-scaffolding"}},[t._v("Custom scaffolding")])])])]),s("li",[s("a",{attrs:{href:"#update-a-model"}},[t._v("Update a model")])]),s("li",[s("a",{attrs:{href:"#bugs"}},[t._v("Bugs")])]),s("li",[s("a",{attrs:{href:"#references"}},[t._v("References")])])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"introduction"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#introduction","aria-hidden":"true"}},[this._v("#")]),this._v(" Introduction")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[this._v("Information")]),a("p",[this._v("In this post ASP.NET Core SDK 2.1 was used.")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"getting-help"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getting-help","aria-hidden":"true"}},[this._v("#")]),this._v(" Getting help")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("code",[this._v("dotnet")]),this._v(" commands come with a "),a("code",[this._v("--help")]),this._v(" and "),a("code",[this._v("-h")]),this._v(" switch to get information on a command.\nThis is a good way to know what you can and cannot do.")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"create-an-empty-project"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-an-empty-project","aria-hidden":"true"}},[this._v("#")]),this._v(" Create an empty project")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[this._v("dotnet new web\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"build-the-project"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#build-the-project","aria-hidden":"true"}},[this._v("#")]),this._v(" Build the project")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[this._v("dotnet build\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"run-the-project"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#run-the-project","aria-hidden":"true"}},[this._v("#")]),this._v(" Run the project")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[this._v("dotnet run\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("Opening "),a("code",[this._v("http://localhost:5000")]),this._v(" in a browser should display a page with "),a("code",[this._v("Hello World!")]),this._v(".")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"razor-pages"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#razor-pages","aria-hidden":"true"}},[this._v("#")]),this._v(" Razor Pages")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("Add the following to "),a("code",[this._v("Startup.ConfigureServices")]),this._v(" method ("),a("em",[this._v("Startup.cs")]),this._v(" file)")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-csharp extra-class"},[a("pre",{pre:!0,attrs:{class:"language-csharp"}},[a("code",[this._v("services"),a("span",{attrs:{class:"token punctuation"}},[this._v(".")]),a("span",{attrs:{class:"token function"}},[this._v("AddMvc")]),a("span",{attrs:{class:"token punctuation"}},[this._v("(")]),a("span",{attrs:{class:"token punctuation"}},[this._v(")")]),a("span",{attrs:{class:"token punctuation"}},[this._v(";")]),this._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("Then add this in the "),a("code",[this._v("Configure")]),this._v(" method:")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-csharp extra-class"},[a("pre",{pre:!0,attrs:{class:"language-csharp"}},[a("code",[this._v("app"),a("span",{attrs:{class:"token punctuation"}},[this._v(".")]),a("span",{attrs:{class:"token function"}},[this._v("UseMvcWithDefaultRoute")]),a("span",{attrs:{class:"token punctuation"}},[this._v("(")]),a("span",{attrs:{class:"token punctuation"}},[this._v(")")]),a("span",{attrs:{class:"token punctuation"}},[this._v(";")]),this._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("By default the runtime looks for Razor Pages files in the "),a("em",[this._v("Pages")]),this._v(" folder.")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("To test it out: create a "),a("em",[this._v("Pages")]),this._v(" folder and add an "),a("em",[this._v("Index.cshtml")]),this._v(" file with the following content:")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("@page\n\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h1")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("This is a Razor Page!"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h1")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Index is the default page when the URL doesn't specify one."),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"static-files"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#static-files","aria-hidden":"true"}},[this._v("#")]),this._v(" Static files")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"setup"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setup","aria-hidden":"true"}},[this._v("#")]),this._v(" Setup")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("Static files are by default stored in the "),a("em",[this._v("wwwroot")]),this._v(" folder.")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("To configure the middleware to enable serving of static files add the following to the "),a("code",[this._v("Startup.Configure")]),this._v(" method:")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-csharp extra-class"},[a("pre",{pre:!0,attrs:{class:"language-csharp"}},[a("code",[this._v("app"),a("span",{attrs:{class:"token punctuation"}},[this._v(".")]),a("span",{attrs:{class:"token function"}},[this._v("UseStaticFiles")]),a("span",{attrs:{class:"token punctuation"}},[this._v("(")]),a("span",{attrs:{class:"token punctuation"}},[this._v(")")]),a("span",{attrs:{class:"token punctuation"}},[this._v(";")]),this._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"test-it-out"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#test-it-out","aria-hidden":"true"}},[this._v("#")]),this._v(" Test it out")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("In a page "),a("code",[this._v("header")]),this._v(", reference the CSS file:")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("rel")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("stylesheet"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("~/css/bulma.css"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("Now write some markup using Bulma classes.\nThe page should be styled.\nTry removing the "),a("code",[this._v("app.UseStaticFiles()")]),this._v(" and run the web app again.\nThe page should not be styled because the web host could not find the CSS file (404 error).")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"configuration-files"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuration-files","aria-hidden":"true"}},[this._v("#")]),this._v(" Configuration files")])},function(){var t=this.$createElement,a=this._self._c||t;return a("ul",[a("li",[this._v("Settings are stored in "),a("em",[this._v("appsettings.json")]),this._v(".")]),a("li",[this._v("There can be different configuration files (e.g. "),a("em",[this._v("appsettings.Development.json")]),this._v(" for a development environment).")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("To setup configuration, add the following in "),a("em",[this._v("Startup.cs")]),this._v(":")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-csharp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-csharp"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// You'll need to add this reference:")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("// using Microsoft.Extensions.Configuration;")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("IConfiguration")]),t._v(" Configuration "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("get")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("Startup")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token class-name"}},[t._v("IConfiguration")]),t._v(" configuration"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  Configuration "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" configuration"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("Exemple of "),a("em",[this._v("appsettings.Development.json")]),this._v(" configuration file for a development environment containing a connection string file:")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v('"ConnectionStrings"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{attrs:{class:"token property"}},[t._v('"TodoContext"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"Server=(localdb)\\\\mssqllocaldb;Integrated Security=true;Database=todo"')]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"models"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#models","aria-hidden":"true"}},[this._v("#")]),this._v(" Models")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-csharp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-csharp"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Thing")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("int")]),t._v(" ID "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("get")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("set")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("string")]),t._v(" Description "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("get")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("set")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"database-context"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#database-context","aria-hidden":"true"}},[this._v("#")]),this._v(" Database Context")])},function(){var t=this.$createElement,a=this._self._c||t;return a("ul",[a("li",[this._v("A database context class must inherit "),a("code",[this._v("DbContext")]),this._v(".")]),a("li",[this._v("Usually, for one database there will be one database context.")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"create-a-database-context-class"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-a-database-context-class","aria-hidden":"true"}},[this._v("#")]),this._v(" Create a Database Context class")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("In the following exemple the "),a("code",[this._v("TodoContext")]),this._v(" class is used to manage "),a("code",[this._v("Things")]),this._v(" to do:")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-csharp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-csharp"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("using")]),t._v(" JetBrains"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Annotations"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("using")]),t._v(" Microsoft"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("EntityFrameworkCore"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("namespace")]),t._v(" EmptyAspNetCore\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("TodoContext")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("DbContext")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("TodoContext")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("DbContextOptions"),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("TodoContext"),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" options"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("base")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" DbSet"),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("Thing"),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" Things "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("get")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("set")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"configure-the-database-context"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configure-the-database-context","aria-hidden":"true"}},[this._v("#")]),this._v(" Configure the Database Context")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("The following exemple to add the "),a("code",[this._v("TodoContext")]),this._v(" Database Context and configure it to use SQL Server.")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("In "),a("code",[this._v("Startup.ConfigureServices")]),this._v(" method:")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-csharp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-csharp"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// You'll need to add this reference:")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("// using Microsoft.EntityFrameworkCore;")]),t._v("\n\nservices"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token generic-method"}},[s("span",{attrs:{class:"token function"}},[t._v("AddDbContext")]),s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{attrs:{class:"token class-name"}},[t._v("TodoContext")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  options"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("UseSqlServer")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Configuration"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("GetConnectionString")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"TodoContext"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"entity-framework"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#entity-framework","aria-hidden":"true"}},[this._v("#")]),this._v(" Entity Framework")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[this._v("dotnet ef migrations add InitialMigration\ndotnet ef database update\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"layout-directives"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#layout-directives","aria-hidden":"true"}},[this._v("#")]),this._v(" Layout, directives")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"layout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#layout","aria-hidden":"true"}},[this._v("#")]),this._v(" Layout")])},function(){var t=this.$createElement,a=this._self._c||t;return a("ul",[a("li",[this._v("Usually named "),a("code",[this._v("_Layout.cshtml")])]),a("li",[this._v("If a relative name is given, the Razor view engine search in the controller-associated folder, then in the "),a("code",[this._v("Shared")]),this._v(" folder.")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{attrs:{class:"token doctype"}},[t._v("<!DOCTYPE html>")]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("lang")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("en"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("charset")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("UTF-8"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("viewport"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("width=device-width, initial-scale=1.0"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("http-equiv")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("X-UA-Compatible"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("ie=edge"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("title")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Welcome page"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("title")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("rel")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("stylesheet"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("~/css/bulma.css"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("section")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("section"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("container"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h1")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("title"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Things todo"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h1")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("subtitle"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("So much things to be done, so little time..."),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("section")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("section")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("section"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("container"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      @RenderBody()\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("section")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("code",[this._v("@RenderBody()")]),this._v(" will render the view of the page that is using the layout.")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"directives"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#directives","aria-hidden":"true"}},[this._v("#")]),this._v(" Directives")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ul",[s("li",[t._v("Used to import shared Razor directives, such as namespace and tag helpers.")]),s("li",[t._v("Named "),s("code",[t._v("_ViewImports.cshtml")]),t._v(".")]),s("li",[t._v("Can be placed in any folder. "),s("code",[t._v("_ViewImports")]),t._v(" files are processed starting from the root folder,\ni.e. you can override the root "),s("code",[t._v("_ViewImports")]),t._v(" at the folder level.")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[this._v("@namespace EmptyAspNetCore\n@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"running-code-before-each-view"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#running-code-before-each-view","aria-hidden":"true"}},[this._v("#")]),this._v(" Running code before each view")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ul",[s("li",[t._v("Usually named "),s("code",[t._v("_ViewStart.cshtml")]),t._v(".")]),s("li",[t._v("Used to run code before each view.")]),s("li",[t._v("Typically used to define the layout of each view.")]),s("li",[t._v("Just Like "),s("code",[t._v("ViewImports")]),t._v(", "),s("code",[t._v("ViewStart")]),t._v(" is processed starting from the root folder")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[this._v('@{\n  Layout = "_Layout";\n}\n')])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"scaffolding"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scaffolding","aria-hidden":"true"}},[this._v("#")]),this._v(" Scaffolding")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"default-scaffolding"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#default-scaffolding","aria-hidden":"true"}},[this._v("#")]),this._v(" Default scaffolding")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("To scaffold controllers and views from a model, first install "),a("code",[this._v("dotnet-aspnet-codegenerator")]),this._v(" tool using the following command in a terminal:")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[t._v("dotnet tool install "),s("span",{attrs:{class:"token operator"}},[t._v("--")]),t._v("global dotnet"),s("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("aspnet"),s("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("codegenerator "),s("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("version 2"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("Then to scaffold the "),a("code",[this._v("Thing")]),this._v(" model:")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[t._v("dotnet"),s("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("aspnet"),s("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("codegenerator razorpage "),s("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("m Thing "),s("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("dc TodoContext "),s("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("outDir Pages "),s("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("udl "),s("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("f\n")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ul",[s("li",[s("code",[t._v("-m")]),t._v(" : model to use")]),s("li",[s("code",[t._v("-dc")]),t._v(" : Database Context to use")]),s("li",[s("code",[t._v("-outDir")]),t._v(" : folder where the views and controllers will be generated. If omitted, they will be generated at the root folder of the project.")]),s("li",[s("code",[t._v("-udl")]),t._v(" : use default layout. If this option and "),s("code",[t._v("-l")]),t._v(" (layout) options are omitted, the generator will set the layout to null for each view generated.")]),s("li",[s("code",[t._v("-f")]),t._v(" : overwrite files (useful for playing purposes)")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"custom-scaffolding"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#custom-scaffolding","aria-hidden":"true"}},[this._v("#")]),this._v(" Custom scaffolding")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("First copy the following "),a("code",[this._v("Templates")]),this._v(" folder in your project folder:\n"),a("code",[this._v("C:\\Program Files\\dotnet\\sdk\\NuGetFallbackFolder\\microsoft.visualstudio.web.codegenerators.mvc\\<version>\\Templates")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("p",[t._v("Then in the "),s("code",[t._v(".csproj")]),t._v(" file exclude the copied folder from the project by adding the following "),s("code",[t._v("DefaultItemExcludes")]),t._v(" element in the "),s("code",[t._v("PropertyGroup")]),t._v(" node. We need to do this or "),s("code",[t._v("dotnet")]),t._v(" will try to process them.")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("DefaultItemExcludes")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("$(DefaultItemExcludes)Templates\\**"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("DefaultItemExcludes")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("Now you can edit the templates in the "),a("code",[this._v("RazorPageGenerator")]),this._v(" for Razor Pages and scaffold using\n"),a("code",[this._v("dotnet-aspcore-codegenerator")]),this._v(". The tool will use the templates  in the project.")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"update-a-model"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#update-a-model","aria-hidden":"true"}},[this._v("#")]),this._v(" Update a model")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),a("p",[this._v("SQLite does not supports some operations (e.g. adding a foreign key) so you may end up with errors when using Entity Framework. The best thing to do to play with EF migrations is to use another SQL engine such as LocalDB.")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("ol",[a("li",[this._v("Update the model.")]),a("li",[this._v("Add a new migration.")]),a("li",[this._v("Update the database (apply the migration)")]),a("li",[this._v("Eventually re-scaffold the model.")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[this._v("dotnet ef migrations add AddPropToModel\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[this._v("dotnet ef database update\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),a("p",[this._v("Be careful though, if you have made changes to the scaffolded files you will lose your changes!")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[t._v("dotnet"),s("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("aspnet"),s("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("codegenerator razorpage "),s("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("m Thing "),s("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("dc TodoContext "),s("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("outDir Pages "),s("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("udl "),s("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("f\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"bugs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bugs","aria-hidden":"true"}},[this._v("#")]),this._v(" Bugs")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"references"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#references","aria-hidden":"true"}},[this._v("#")]),this._v(" References")])}],!1,null,null,null);a.default=n.exports}}]);